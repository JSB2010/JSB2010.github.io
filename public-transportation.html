<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Public Transportation | Jacob Barkin</title>
    <link rel="stylesheet" href="style.css">
    <meta name="description" content="Jacob Barkin's research and insights on public transportation systems and improvements.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="icon" type="image/png" href="images/Jacob Barkin Website Logo.png">
    <!-- Preload critical resources -->
    <link rel="preload" href="header.html" as="fetch" crossorigin="anonymous">
    <link rel="preload" href="footer.html" as="fetch" crossorigin="anonymous">
</head>
<body class="themed-background">
    <div class="loading-animation"></div>
    
    <div id="header"></div>
    <main class="content-main">
        <h1>Public Transportation</h1>
        <p>Because of my vision, I am unable to drive, so I take public transit as much as possible. I like to do research on our current systems, and how to improve them.</p>
        <h2>An Overview</h2>
        <p>I conducted a comprehensive project centered on public transportation in Colorado, with a particular emphasis on identifying and exploring potential improvements within the system. This project was structured into two distinct components: a rigorous research and writing phase and an action phase.</p>
        <h2>Research Paper</h2>
        <p>During the research and writing phase, I extensively reviewed existing literature and data related to public transit, analyzing current challenges and best practices in various regions. This analysis provided a solid foundation for understanding the complexities of the public transportation landscape.</p>
        <h2>Action Piece</h2>
        <p>In the action phase, I actively engaged with the community by interviewing individuals directly involved in initiatives to enhance public transit services. These interactions offered valuable insights into the ongoing efforts and challenges transit professionals and advocates face. By combining theoretical knowledge with real-world perspectives, this project heightened my understanding of public transportation issues and contributed to the broader conversation about improving transit systems in Colorado.</p>
        <h2>Final Presentation</h2>
        <p>Below is the final presentation I created to summarize my research and action steps.</p>
        
        <!-- Materials Section -->
        <h2>Materials</h2>
        <div class="file-tree">
            <ul>
                <li>
                    <span class="caret">▶ Research Paper</span>
                    <iframe class="research-paper-frame" data-src="https://docs.google.com/document/d/e/2PACX-1vQlbGwHq8AUTKXV0h2dKypdXnucepaBRKKXizWur2H7pe-hf_Zejf5w2hrJfIoN4fP4db9ENy6qHqYM/pub?embedded=true" frameborder="0" loading="lazy"></iframe>
                </li>
                <li>
                    <span class="caret">▶ Action Piece Presentation</span>
                    <iframe data-src="https://1drv.ms/p/s!Av-6eo6o9gE9gYlXpXRUGVHd2TjNEA?embed=1&amp;em=2&amp;wdAr=1.7777777777777777" style="width: 100%; height: 56.25vw;" frameborder="0" loading="lazy">This is an embedded <a target="_blank" href="https://office.com">Microsoft Office</a> presentation, powered by <a target="_blank" href="https://office.com/webapps">Office</a>.</iframe>
                </li>
                <li>
                    <span class="caret">▶ Final Presentation</span>
                    <iframe data-src="https://1drv.ms/p/s!Av-6eo6o9gE9gYpXE1OVwenzG1vWJw?embed=1&amp;em=2&amp;wdAr=1.7777777777777777" style="width: 100%; height: 56.25vw;" frameborder="0" loading="lazy">This is an embedded <a target="_blank" href="https://office.com">Microsoft Office</a> presentation, powered by <a target="_blank" href="https://office.com/webapps">Office</a>.</iframe>
                </li>
            </ul>
        </div>
    </main>
    <div id="footer"></div>
    <button id="back-to-top" aria-label="Back to top">↑</button>
    <script>
        async function loadContent() {
            try {
                const [headerResponse, footerResponse] = await Promise.all([
                    fetch('header.html'),
                    fetch('footer.html')
                ]);

                if (!headerResponse.ok) throw new Error('Header not found');
                if (!footerResponse.ok) throw new Error('Footer not found');

                const [headerText, footerText] = await Promise.all([
                    headerResponse.text(),
                    footerResponse.text()
                ]);

                document.getElementById('header').innerHTML = headerText;
                document.getElementById('footer').innerHTML = footerText;
            } catch (error) {
                console.error('Error loading content:', error);
            }
        }

        loadContent();

        // Improved file tree interaction
        document.querySelectorAll('.file-tree .caret').forEach(caret => {
            caret.addEventListener('click', function() {
                this.classList.toggle('active');
                
                // Update caret icon
                this.textContent = this.classList.contains('active') 
                    ? '▼ ' + this.textContent.slice(2) 
                    : '▶ ' + this.textContent.slice(2);
                
                const iframe = this.nextElementSibling;
                if (iframe && iframe.tagName === 'IFRAME') {
                    if (!iframe.src && this.classList.contains('active')) {
                        iframe.src = iframe.dataset.src;
                        // Add loading animation
                        iframe.classList.add('loading');
                        iframe.onload = () => {
                            iframe.classList.remove('loading');
                            iframe.classList.add('active');
                        };
                    }
                    iframe.style.display = this.classList.contains('active') ? 'block' : 'none';
                }
            });
        });

        // Enhanced back to top functionality
        const backToTopButton = document.getElementById('back-to-top');
        
        function handleScroll() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            if (scrollTop > window.innerHeight / 2) {
                backToTopButton.classList.add('visible');
            } else {
                backToTopButton.classList.remove('visible');
            }
        }

        window.addEventListener('scroll', handleScroll, { passive: true });

        backToTopButton.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    </script>
    <script src="common.js"></script>
    <script src="theme.js"></script>
</body>
</html>